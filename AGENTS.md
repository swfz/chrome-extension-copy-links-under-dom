# リポジトリガイドライン

## プロジェクト構成とモジュール
- `manifest.json`: Chrome MV3 のマニフェストと権限（`activeTab`, `scripting`, `clipboardWrite`）。
- `background.js`: アクティブタブへ CSS/JS を注入し、機能を起動。
- `content.js`: ホバーで要素をハイライトし、クリックで内部の `<a>` の `href` を抽出してクリップボードへコピー。
- `inspector.css`: ハイライト用スタイル。
- `images/`: 拡張機能アイコン（16–128 px）。
- `README.md`: 概要とデモ GIF。

## ビルド・テスト・開発コマンド
- ビルド: なし。プレーンな JS/CSS を Chrome が直接読み込みます。
- ローカル実行: Chrome → 拡張機能 → デベロッパーモード → 「パッケージ化されていない拡張機能を読み込む」→ 本リポジトリのルートを選択。
- パッケージ（任意）: `zip -r dom-links-extractor.zip . -x .git\* AGENTS.md` で配布用 ZIP を作成。

## コーディング規約と命名
- インデント: 2 スペース。可読性を最優先。
- JavaScript: ES2020+。変数/関数は camelCase、セミコロン必須。
- ファイル名: 小文字。ハイフン/アンダースコアは最小限（例: `background.js`, `content.js`）。
- CSS: クラス名は kebab-case（例: `.inspector-highlight`）。
- Lint/Format: 未設定。既存スタイルに合わせること。Prettier/ESLint を導入する場合は最小構成で別 PR に分ける。

## テストガイドライン
- フレームワーク: 未導入。手動テストを実施。
- 手動チェック:
  - 拡張機能ボタンをクリック → ホバーで要素がハイライト。
  - 対象コンテナをクリック → 内部リンクがコピーされ、成功/失敗がコンソールに出力。
  - 特殊ページ（`chrome://`、Web ストア）では動作しないことを確認。
- 将来の自動テスト: `*.spec.js` を命名し、DOM 依存ロジックは小さなヘルパーへ分離。

## コミット／プルリクエスト ガイドライン
- コミット: 命令形で簡潔に（例: "feat: add clipboard copy fallback"）。小さく焦点を絞る。
- PR: 概要・背景・変更前後の挙動を記述。UX 変更はコンソールログ/スクリーンショット/GIF を添付。関連 Issue をリンク。
- スコープ: MV3 権限の追加は最小限にし、`manifest.json` の変更は必ず理由を明記。

## セキュリティと設定のヒント
- 制限ページには注入しない。権限は最小化。
- 秘密情報を含めない。リモートコードやトラッキングの導入は禁止。
- クリップボード操作はユーザー操作起点（クリック）を維持。
